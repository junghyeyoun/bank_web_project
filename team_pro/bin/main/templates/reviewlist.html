<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>리뷰 목록 - 구매자</title>
    <link rel="stylesheet" href="css/base.css" />
	<link rel="stylesheet" href="css/review.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $("p.rating").each(function () {
                var rating = parseInt($(this).text());
                var stars = "";
                for (var i = 1; i <= 5; i++) {
                    if (i <= rating) {
                        stars += "&#9733; ";
                    } else {
                        stars += "&#9734; ";
                    }
                }
                $(this).html(stars);
            });
        });
    </script>
</head>
<body>
	<th:block th:replace="header::headerFragment"></th:block>
	<div id="sub_con">
		<div class="sub_left">
			<p class="sub_left_title">마이페이지</p>
			<ul>
				<li class="active">
					<a href="orderlist" class="flex">
						<p>주문내역</p>
						<span class="material-symbols-outlined arrow_icon"> arrow_forward_ios</span>
					</a>
				</li>
				<li>
					<a href="update">
						<p>내 정보 수정하기</p>
						<span class="material-symbols-outlined arrow_icon"> arrow_forward_ios</span>
					</a>
				</li>
				<li>
					<a href="delete">
						<p>탈퇴하기</p>
						<span class="material-symbols-outlined arrow_icon"> arrow_forward_ios</span>
					</a>
				<li>
					<a href="reviewlist">
						<p>상품후기</p>
						<span class="material-symbols-outlined arrow_icon"> arrow_forward_ios</span>
					</a>
				</li>
				<li>
					<a href="update">
						<p>배송지수정</p>
						<span class="material-symbols-outlined arrow_icon"> arrow_forward_ios</span>
					</a>
				</li>
				<li>
					<a href="wishlist">
						<p>찜목록</p>
						<span class="material-symbols-outlined arrow_icon"> arrow_forward_ios</span>
					</a>
				</li>
			</ul>
		</div>
	<div class="sub_right">
			<div class="sub_right_title">
		<h2>리뷰 목록</h2>
		<br><hr>
			</div>
<br><br>
    <form th:if="${list.size() > 0}" th:each="data : ${list}">
        <p class="rating" th:text="${data.rating}"/>
        <p th:text="${data.model}"/>
        <p th:text="${data.brand}"/>
        <p th:text="${data.reviewdate}"/>
            <a th:href="@{/showreview(reviewid=${data.reviewid},page=${page})}" th:text="상세보기"></a>
    </form>
    <!-- paging -->
    	<div class="paging">
            <span th:each="num : ${#numbers.sequence(1, pagesu)}">
                <span th:if="${num == page}">
                    <b th:text="${num}">num 표시(현재 페이지는 링크를 걸지 않음)</b>
                </span>
                <span th:if="${num != page}">
                    <a th:href="@{reviewlist(page=${num})}" th:text="${num}">num 표시</a>
                </span>
            </span>
    	</div>
	</div>
  </div>
 <th:block th:replace="footer::footerFragment"></th:block>
</body>
</html>
